<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Love Story ðŸ’—</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@500&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(180deg, #ffd6e8, #fff0f7);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-family: 'Quicksand', sans-serif;
    overflow: hidden;
    text-align: center;
}

/* Floating hearts */
.heart {
    position: absolute;
    bottom: -30px;
    font-size: 20px;
    animation: float 6s linear infinite;
    opacity: 0.8;
}
@keyframes float {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-120vh) scale(1.5); opacity: 0; }
}

/* Polaroid style */
.polaroid {
    background: #fff;
    padding: 15px 15px 30px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(255,140,180,0.5);
    width: 80vw;
    max-width: 300px;
    opacity: 0;
    transform: scale(0.7) rotate(-4deg);
    transition: all 0.5s ease;
}
.polaroid.show {
    opacity: 1;
    transform: scale(1) rotate(0);
}
.polaroid img {
    width: 100%;
    height: auto;
    max-height: 60vw;
    object-fit: cover;
    border-radius: 8px;
}
.caption {
    margin-top: 12px;
    font-family: 'Pacifico', cursive;
    font-size: 4vw;
    color: #ff6f9f;
    min-height: 8vw;
}
</style>
</head>

<body>

<!-- Background music -->
<audio id="bgMusic" loop>
    <source src="mp.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<div class="polaroid" id="polaroid">
    <img id="photo" src="1.jpg">
    <div class="caption" id="message"></div>
</div>

<script>
/* Floating hearts */
function createHeart() {
    const h = document.createElement("div");
    h.className = "heart";
    h.textContent = "ðŸ’—";
    h.style.left = Math.random() * 100 + "vw";
    h.style.fontSize = (14 + Math.random() * 18) + "px";
    h.style.animationDuration = (4 + Math.random() * 4) + "s";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 7000);
}
setInterval(createHeart, 300);

/* Photos & messages */
const photos = ["1.jpg","2.jpg","3.jpg","4.jpg","5.jpg"];
const messages = [
    "This is where our story began ðŸ’•",
    "Every moment with you is magic âœ¨",
    "Your smile melts my heart ðŸ¥¹",
    "With you, love feels easy ðŸ’–",
    "Forever starts with us ðŸ’—"
];

let i = 0;
let typing = false;

const polaroid = document.getElementById('polaroid');
const photo = document.getElementById('photo');
const message = document.getElementById('message');
const bgMusic = document.getElementById('bgMusic');

/* Typewriter effect */
function typeText(text) {
    typing = true;
    message.innerHTML = "";
    let t = 0;
    function type() {
        if (t < text.length) {
            message.innerHTML += text[t];
            t++;
            setTimeout(type, 70);
        } else typing = false;
    }
    type();
}

function showSlide() {
    polaroid.classList.remove("show");
    setTimeout(() => {
        photo.src = photos[i];
        photo.onload = () => polaroid.classList.add("show");
        typeText(messages[i]);
    }, 100);
}

showSlide();

/* Swipe left/right for slides and start music */
let startX = 0;
let endX = 0;

polaroid.addEventListener("touchstart", e => {
    startX = e.touches[0].clientX;

    // Start music on first user interaction
    if(bgMusic.paused){
        bgMusic.play().catch(()=>{}); // catch if browser blocks
    }
});

polaroid.addEventListener("touchmove", e => { endX = e.touches[0].clientX; });

polaroid.addEventListener("touchend", e => {
    const deltaX = endX - startX;
    if (Math.abs(deltaX) > 50) { // swipe threshold
        if (deltaX < 0 && i < photos.length - 1) i++;
        if (deltaX > 0 && i > 0) i--;
        showSlide();
    }
});
</script>

</body>
</html>
